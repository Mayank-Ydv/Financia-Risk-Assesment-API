# ğŸ“Š Financial Risk Assessment API  

ğŸš€ A **Node.js & Express-based** API that assesses financial risk based on company data, utilizing **MongoDB**, **Redis caching**, and **Bull queue processing**.  

---

## ğŸ”¥ Features  

âœ” **Upload Financial Data via API** (Queued using Bull)  
âœ” **Retrieve Risk Assessment Reports** with calculated risk scores  
âœ” **Rate Limiting** to prevent API abuse  
âœ” **Redis Caching** for optimized performance  
âœ” **Unit Tests** using Mocha & Chai  

---

## ğŸ—ï¸ Architecture & Design  

1ï¸âƒ£ **Client sends financial data** â†’ Queued in **Bull (Redis-based queue)**  
2ï¸âƒ£ **Worker processes queued data** â†’ Saves it to **MongoDB**  
3ï¸âƒ£ **Risk score calculated** based on **financial metrics (Z-score, D/E Ratio, etc.)**  
4ï¸âƒ£ **Data retrieved via API** â†’ Cached in **Redis for faster access**  

### ğŸ“Œ Tech Stack  
- **Backend:** Node.js, Express.js  
- **Database:** MongoDB  
- **Queue Processing:** Bull (Redis-based)  
- **Caching:** Redis  
- **Authentication:** JWT  
- **Testing:** Mocha, Chai  

---

## ğŸš€ Getting Started  

### 1ï¸âƒ£ Clone the Repository  

```json
{
    git clone https://github.com/YOUR_GITHUB_USERNAME/financial-risk-api.git
    cd financial-risk-api
}
```

### 2ï¸âƒ£ Install Dependencies
```json
{
    npm install
}
```

### 3ï¸âƒ£ Setup Environment Variables
Create a .env file in the root directory and add the following:

```json
{
    PORT=3000
    MONGO_URI=mongodb://localhost:27017/financial-risk-db
    REDIS_URL=redis://localhost:6379
    JWT_SECRET=your_secret_key
    RATE_LIMIT_MAX=100
}
### 4ï¸âƒ£ Start the Server
For production:
npm start

For development with nodemon:
npm run dev  
ğŸ“¡ API Endpoints  
### 1ï¸âƒ£ Authentication  
ğŸ”¹ POST /api/auth/login  

Request:

```json
{ 
  "email": "user@example.com", 
  "password": "yourpassword" 
}
```
Response:

```json
{ 
  "token": "your_jwt_token_here" 
}
```
### 2ï¸âƒ£ Upload Financial Data
ğŸ”¹ POST /api/uploadFinancialData

Request:

```json

[
  {
    "company_id": "C1001",
    "company_name": "TechCorp",
    "reporting_period": "2023-Q4",
    "industry_sector": "Technology",
    "total_assets": 5000000,
    "total_liabilities": 2000000,
    "revenue": 1500000,
    "net_profit": 300000,
    "cash_flow": 500000
  }
]
```
Response:

```json
{
  "message": "Data enqueued successfully",
  "successCount": 1,
  "failedCount": 0
}
```
### 3ï¸âƒ£ Get Risk Assessment
ğŸ”¹ GET /api/getRiskAssessment?company_id=C1001&reporting_period=2023-Q4  

Response:  

```json
{
  "currentPage": 1,
  "totalPages": 1,
  "totalRecords": 1,
  "data": [
    {
      "company_id": "C1001",
      "risk_score": 85,
      "z_score": 2.8,
      "debt_to_equity_ratio": 1.2
    }
  ]
}
```

### 4ï¸âƒ£ Rate Limiting
After 100 requests, the API returns:  

```json
{  
  "message": "Too many requests, please try again later."  
} 
``` 
ğŸ§ª Running Tests  
### 1ï¸âƒ£ Test Rate Limiting

```json
{
    npx mocha src/tests/rateLimitTest.js
}  
ğŸ› ï¸ Challenges & Optimizations  
Challenges Faced  
ğŸš§ Efficient financial risk calculation  
ğŸš§ Ensuring high throughput API performance  
ğŸš§ Handling large financial datasets  

## Optimizations Implemented
**ğŸš€ Bull Queue for async data processing**  
**ğŸš€ Redis Caching for fast data retrieval**  
**ğŸš€ Rate Limiting to prevent spam**  

## ğŸ¯ Future Enhancements
**ğŸ”¹ Implement AI-based risk prediction**  
**ğŸ”¹ Add real-time notifications for assessments**  
**ğŸ”¹ Build a dashboard for risk insights**  

ğŸ“œ License  
This project is MIT Licensed.  

## â­ Contributions  
**ğŸ”¹ Feel free to fork, clone & contribute!**  
**ğŸ”¹ Open an issue if you find bugs.**  

### ğŸ’™ Star this repo if you find it useful! ğŸš€